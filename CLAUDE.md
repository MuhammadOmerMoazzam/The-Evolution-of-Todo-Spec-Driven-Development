# CLAUDE.md - AI Agent Prompts and Workflow Documentation

This document outlines the AI agent prompts and workflow used in the Evolution of Todo project, following the spec-driven development approach where all code is generated by AI agents based on specifications.

## Project Overview

The Evolution of Todo project demonstrates the progression from an in-memory CLI todo application to a distributed cloud-native AI system. All code in this project is generated by AI agents following the principles outlined in our constitution.

## AI Agent Workflow

### 1. Specification Phase
- Use `/sp.specify` command to create feature specifications
- Specifications must follow the template in `.specify/templates/spec-template.md`
- All specifications are stored in the `/specs/history` folder

### 2. Planning Phase
- Use `/sp.plan` command to create implementation plans
- Plans must follow the template in `.specify/templates/plan-template.md`
- Plans are based on the feature specifications

### 3. Task Generation Phase
- Use `/sp.tasks` command to generate implementation tasks
- Tasks must follow the template in `.specify/templates/tasks-template.md`
- Tasks are derived from specifications and plans

### 4. Implementation Phase
- AI agents generate code based on the tasks
- All code must comply with constitution standards:
  - Type hints for all functions, classes, and variables
  - PEP 8 style compliance with Ruff or Black formatting
  - Docstrings for all public functions and classes
  - UV for dependency management

## Common AI Prompts

### Creating a New Feature Specification
```
/sp.specify [feature-name] [feature-description]
```

### Creating an Implementation Plan
```
/sp.plan [feature-name]
```

### Generating Implementation Tasks
```
/sp.tasks [feature-name]
```

### Code Generation Based on Tasks
```
Based on the tasks in /specs/[feature-name]/tasks.md, implement the required functionality following the project's constitution standards for type hints, docstrings, and PEP 8 compliance.
```

## Quality Assurance Prompts

### Type Checking Verification
```
Run mypy on the src/ directory and fix any type errors to ensure zero errors as required by the constitution.
```

### Code Formatting
```
Format all code in the src/ directory using Black and ensure PEP 8 compliance with Ruff as required by the constitution.
```

### Documentation Verification
```
Ensure all public functions and classes have appropriate docstrings in Google or NumPy style as required by the constitution.
```

## AI Agent Configuration

### Primary AI Agent
- Currently using Qwen Code CLI
- Will transition to Claude Code in future phases
- All code generation follows the spec-driven development principle

### Code Review Process
```
Review the generated code to ensure:
1. Compliance with type hint requirements
2. Proper docstring inclusion
3. PEP 8 style compliance
4. Traceability to originating specification
5. Implementation of all required functionality
```

## Constitution Compliance Verification

### Pre-Implementation Check
```
Verify that the implementation plan complies with the project constitution:
- Spec-driven development approach
- No manual coding principle
- Progressive complexity maintenance
- Clean architecture standards
- Quality through automation
```

### Post-Implementation Check
```
Verify that the completed feature complies with the constitution:
- All specifications stored in /specs/history
- Type hints present for all functions, classes, and variables
- PEP 8 compliance with Ruff/Black formatting
- Docstrings for all public functions and classes
- Standard Python project structure
- UV for dependency management
- Code traceability to originating specification
```

## Troubleshooting Common Issues

### Missing Type Hints
Prompt: "Add type hints to all functions, classes, and variables as required by the constitution."

### Missing Docstrings
Prompt: "Add Google-style docstrings to all public functions and classes as required by the constitution."

### PEP 8 Compliance Issues
Prompt: "Format the code to comply with PEP 8 standards using Ruff or Black as required by the constitution."

### Specification Traceability
Prompt: "Ensure all generated code can be traced back to its originating specification as required by the constitution."